{% extends 'v2admin.html' %}
{% load static %}
{% block content %}
<style>
  .dashboard-card {
      background-color: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .card {
  margin-bottom: 10px;
  border: 1px solid #ccc;
  padding: 10px;
  min-width: 150px;
  height: 100px; 
  margin-left: 70px;
}

.popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 2px dashed #ccc;
  padding: 20px;
  background-color: #fff;
}

.archived {
  display: none; /* Hide archived cards */
}


</style>
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
  <!-- Your main content here -->
  <h1 style="text-align: center; margin-top: 50px;">Archeive Cards</h1>
  
  <div class="container">
    <h2>Archived Cards</h2>
    <div class="card-columns">
      <ul id="archived-cards"></ul>

      
  
    </div>
  </div>
  <div class="container" style="margin-bottom: 80px;">
    <canvas id="myChart"></canvas>
  </div>
  
  
</main>



<script>
  // Chart.js script to generate graph
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
      datasets: [{
        label: 'CRMO Data',
        data: [12, 19, 3, 5, 2, 3, 15], // Example data, replace with your actual data
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)',
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });



   // Function to display archived cards
function displayArchivedCards() {
  const archivedCardsContainer = document.getElementById("archived-cards");
  const archivedCards = JSON.parse(localStorage.getItem("archivedCards")) || [];
  archivedCards.forEach(cardText => {
    // Create card element
    const cardItem = document.createElement("div");
    cardItem.classList.add("card");
    // Create card text
    const cardTextElement = document.createElement("p");
    cardTextElement.textContent = cardText;
    cardItem.appendChild(cardTextElement);
    // Create unarchive button
    const unarchiveButton = document.createElement("button");
    unarchiveButton.textContent = "Unarchive";
    unarchiveButton.addEventListener("click", function() {
      unarchiveCard(cardText);
      // Remove card from the DOM
      cardItem.remove();
    });
    cardItem.appendChild(unarchiveButton);
    archivedCardsContainer.appendChild(cardItem);
  });
}

// Function to unarchive a card
function unarchiveCard(cardText) {
  let archivedCards = JSON.parse(localStorage.getItem("archivedCards")) || [];
  const index = archivedCards.indexOf(cardText);
  if (index !== -1) {
    archivedCards.splice(index, 1);
    localStorage.setItem("archivedCards", JSON.stringify(archivedCards));
  }
}

// Call displayArchivedCards when the page is loaded
document.addEventListener("DOMContentLoaded", displayArchivedCards);

</script>


{% endblock %}